# Command

codex exec -s danger-full-access -o /home/runner/work/FlowSmith/FlowSmith/.agent/runs/masaakiayb-muselucid-project-template/20260220T030242Z-issue-4/coder_output_attempt_1.md - < /home/runner/work/FlowSmith/FlowSmith/.agent/runs/masaakiayb-muselucid-project-template/20260220T030242Z-issue-4/coder_prompt_attempt_1.md

# Exit Code

0

# Stdout

README を Issue #4 のスコープに合わせて更新し、実装と整合する検証手順を追加しました。

変更内容:
- `README.md`
  - 前提条件・実行方法に続く形で `検証手順（ローカル）` を追加
  - 以下の検証コマンドと期待結果を明記
    - `rg -n "latest|headline|ニュース|ヘッドライン" README.md`
    - `./scripts/show_latest_headline.sh >/tmp/headline.out && test -s /tmp/headline.out`
    - `test -f README.md`
    - `NEWS_FEED_URL="https://example.invalid/rss.xml" ...`（終了コード `10`）
    - `NEWS_FEED_URL="https://example.com" ...`（終了コード `20` または `21`）
  - MVP が単一ニュースソース前提であることを明記
  - 失敗時の確認ポイントとして終了コード `10/11/20/21` の見方を追記

検証結果:
- `rg -n "latest|headline|ニュース|ヘッドライン" README.md` -> ヒットあり
- `./scripts/show_latest_headline.sh >/tmp/headline.out && test -s /tmp/headline.out` -> `0`
- `test -f README.md` -> `0`
- `NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh ...` -> `10`（`network or timeout error` 確認）
- `NEWS_FEED_URL="https://example.com" ./scripts/show_latest_headline.sh ...` -> `20`（`failed to parse feed response` 確認）
- `git diff --check` -> 問題なし

実行ログを記録済み:
- `/home/runner/work/FlowSmith/FlowSmith/.agent/runs/masaakiayb-muselucid-project-template/20260220T030242Z-issue-4/coder_output_attempt_1.md`


# Stderr

2026-02-20T03:03:27.900328Z ERROR codex_core::auth: Failed to refresh token: 401 Unauthorized: {
  "error": {
    "message": "Your refresh token has already been used to generate a new access token. Please try signing in again.",
    "type": "invalid_request_error",
    "param": null,
    "code": "refresh_token_reused"
  }
}
2026-02-20T03:03:27.900420Z ERROR codex_core::auth: Failed to refresh token: Your access token could not be refreshed because your refresh token was already used. Please log out and sign in again.
OpenAI Codex v0.104.0 (research preview)
--------
workdir: /home/runner/work/FlowSmith/FlowSmith/.agent/workspaces/masaakiayb-muselucid-project-template
model: gpt-5.3-codex
provider: openai
approval: never
sandbox: danger-full-access
reasoning effort: none
reasoning summaries: auto
session id: 019c7900-9723-7212-9ab4-823340ec0f84
--------
user
あなたは Coder エージェントです。

リポジトリ: /home/runner/work/FlowSmith/FlowSmith/.agent/workspaces/masaakiayb-muselucid-project-template
プロジェクト: 
対象リポジトリ: MasaakiAYB/muselucid-project-template
ブランチ: agent/issue-4-readme
試行: 1/3

Issue:
- 番号: #4
- タイトル: READMEと検証手順を整備する
- URL: https://github.com/MasaakiAYB/muselucid-project-template/issues/4

Issue 本文:
Plan-ID: ISSUE-0003
Title: READMEと検証手順を整備する

### Goal / Summary
実装済み機能を誰でも再現できるように、実行方法と検証手順をREADMEに反映する。

### Scope
- READMEに前提条件、実行方法、検証方法を追記する。
- 失敗時の確認ポイントを簡潔に記載する。
- CIまたはローカル検証コマンドを明示する。

### Non-goals
- 機能追加
- デプロイ手順の実装
- 運用監視の導入

### Acceptance Criteria (DoD)
- READMEの手順だけで機能確認が再現できる。
- 最低1つの検証コマンドが明記されている。
- 実装内容とREADME記載に矛盾がない。

### Verify
- rg -n \"latest|headline|ニュース|ヘッドライン\" README.md
- ./scripts/show_latest_headline.sh >/tmp/headline.out && test -s /tmp/headline.out
- test -f README.md

### Constraints
- MVP は単一のニュースソースのみを対象にする。
- ニュース取得は公開フィードまたは無料 API を優先し、運用コストを抑える。
- ネットワーク障害時を考慮し、失敗時の終了コードとメッセージを明示する。

### Risk
low

### Depends On
- ISSUE-0002


追加フィードバック（PRレビュー/コメント）:
_追加フィードバックなし_

計画:
## 1. スコープ（対象/対象外）

**対象**
- `README.md` に以下を実装と一致する形で明記する。  
  - 前提条件（`bash` `curl` `python3`）
  - 実行方法（`./scripts/show_latest_headline.sh`）
  - 検証方法（ローカル実行コマンド）
  - 失敗時の確認ポイント（終了コードとエラーメッセージの見方）
- 単一ニュースソース（`NEWS_FEED_URL` デフォルト1件）前提を明示する。
- ネットワーク障害時の終了コード・メッセージを README 上で確認可能にする。

**対象外**
- 新機能追加（CLI仕様変更、複数ソース対応など）
- デプロイ手順の新設
- 運用監視・CI機能そのものの追加（READMEへの記載のみ）

## 2. 実装手順（番号付き、各手順の完了条件付き）

1. 現行実装との差分確認を行う。  
完了条件: `scripts/show_latest_headline.sh` の仕様（引数、環境変数、終了コード、エラーメッセージ）を一覧化し、README反映対象が確定している。

2. README の構成を整理し、再現手順を「前提条件→実行→検証→失敗時確認」の順に並べる。  
完了条件: 初見ユーザーが README の上から順に実行するだけで機能確認できる章立てになっている。

3. 検証手順セクションを追加/更新し、ローカル検証コマンドを明示する。  
完了条件: 少なくとも1つ以上の検証コマンドが明記され、実行結果の期待値（成功時/失敗時）が記述されている。

4. 失敗時の確認ポイントを追記し、終了コードとの対応を明確化する。  
完了条件: `10/11/20/21` の意味と代表的な確認方法（URL、依存コマンド、stderr確認）がREADMEに記載されている。

5. 実装とREADMEの整合性チェックを実施する。  
完了条件: README記載のコマンドを実行して矛盾がなく、IssueのDoD 3項目を満たすことを確認できる。

## 3. リスクと対策

- リスク: README の終了コード説明が実装とずれる。  
対策: `scripts/show_latest_headline.sh` の `usage` と実際の `exit` 分岐を基準に記載する。

- リスク: ネットワーク依存で検証が不安定。  
対策: 検証手順に「成功系」と「失敗系（`NEWS_FEED_URL` 上書き）」を分けて記載し、失敗時でも期待される終了コードで判定する。

- リスク: CIが機能検証を自動実行していないため再現性がぶれる。  
対策: 今回は非ゴールとしてCI追加は行わず、READMEにローカル検証コマンドを明示して再現手順を固定する。

## 4. 検証計画（実行コマンドと期待結果）

1. README内の関連記述確認  
```bash
rg -n "latest|headline|ニュース|ヘッドライン" README.md
```  
期待結果: 実行方法・検証方法・失敗時説明に関連する行がヒットする。

2. 正常系の出力確認  
```bash
./scripts/show_latest_headline.sh >/tmp/headline.out && test -s /tmp/headline.out
```  
期待結果: 終了コード `0`、`/tmp/headline.out` が空でない（1行以上の見出し）。

3. READMEファイル存在確認  
```bash
test -f README.md
```  
期待結果: 終了コード `0`。

4. 失敗系（ネットワーク障害相当）の確認  
```bash
NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
```  
期待結果: 終了コード `10`、`/tmp/headline.err` に network/timeout 系エラーメッセージ。

5. 失敗系（解析不能データ）の確認  
```bash
NEWS_FEED_URL="https://example.com" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
```  
期待結果: 終了コード `20` または `21`、`/tmp/headline.err` に parse/no headline 系メッセージ。

前回試行のフィードバック:
None

必須の品質ゲート:
- `git diff --check`

ルール:
- 変更は最小限にし、Issue のスコープに集中すること。
- テストが不足している場合は、可能な範囲で追加または更新すること。
- 無関係なファイルは変更しないこと。
- UI変更（画面見た目/レイアウト/スタイル/フロントUI部品）を含む場合は、変更箇所のスクリーンショットまたはアニメーションGIF（`.png/.jpg/.jpeg/.webp/.gif`）を `/home/runner/work/FlowSmith/FlowSmith/.agent/workspaces/masaakiayb-muselucid-project-template/.flowsmith/ui-evidence` に保存すること（対象リポジトリ配下。artifact-only モードではコミット前に自動で除外される）。
- UI証跡画像は実画面キャプチャを使用し、文字が判読可能であること。日本語文字を含む場合は文字化けしていないこと。プレースホルダ画像（矩形塗りつぶし等）で代替しないこと。

編集後、`/home/runner/work/FlowSmith/FlowSmith/.agent/runs/masaakiayb-muselucid-project-template/20260220T030242Z-issue-4/coder_output_attempt_1.md` に実行ログと変更ファイル要約を短く記載してください。

mcp startup: no servers
2026-02-20T03:03:27.988299Z ERROR codex_core::auth: Failed to refresh token: 401 Unauthorized: {
  "error": {
    "message": "Your refresh token has already been used to generate a new access token. Please try signing in again.",
    "type": "invalid_request_error",
    "param": null,
    "code": "refresh_token_reused"
  }
}
2026-02-20T03:03:27.988334Z ERROR codex_core::auth: Failed to refresh token: Your access token could not be refreshed because your refresh token was already used. Please log out and sign in again.

thinking
**Confirming no skill use**
codex
README と検証手順の整備に絞って進めます。最初に現行の `README.md` と `scripts/show_latest_headline.sh` を確認し、実装仕様（終了コード・エラーメッセージ・依存コマンド）との差分を特定します。
exec
/bin/bash -lc 'rg --files' in /home/runner/work/FlowSmith/FlowSmith/.agent/workspaces/masaakiayb-muselucid-project-templateexec
/bin/bash -lc 'git status --short' in /home/runner/work/FlowSmith/FlowSmith/.agent/workspaces/masaakiayb-muselucid-project-templateexec
/bin/bash -lc 'ls -la' in /home/runner/work/FlowSmith/FlowSmith/.agent/workspaces/masaakiayb-muselucid-project-template succeeded in 51ms:
README.md
scripts/show_latest_headline.sh
 succeeded in 50ms:

 succeeded in 50ms:
total 36
drwxr-xr-x 7 runner runner 4096 Feb 20 03:02 .
drwxr-xr-x 3 runner runner 4096 Feb 20 03:02 ..
drwxr-xr-x 3 runner runner 4096 Feb 20 03:02 .flowsmith
drwxr-xr-x 7 runner runner 4096 Feb 20 03:03 .git
drwxr-xr-x 4 runner runner 4096 Feb 20 03:02 .github
-rw-r--r-- 1 runner runner   45 Feb 20 03:02 .gitignore
drwxr-xr-x 4 runner runner 4096 Feb 20 03:02 .muselucid
-rw-r--r-- 1 runner runner 1081 Feb 20 03:02 README.md
drwxr-xr-x 2 runner runner 4096 Feb 20 03:02 scripts
2026-02-20T03:03:33.106838Z ERROR codex_core::auth: Failed to refresh token: 401 Unauthorized: {
  "error": {
    "message": "Your refresh token has already been used to generate a new access token. Please try signing in again.",
    "type": "invalid_request_error",
    "param": null,
    "code": "refresh_token_reused"
  }
}
2026-02-20T03:03:33.106880Z ERROR codex_core::auth: Failed to refresh token: Your access token could not be refreshed because your refresh token was already used. Please log out and sign in again.

thinking
**Checking repository cleanliness**
exec
/bin/bash -lc "sed -n '1,220p' README.md" in /home/runner/work/FlowSmith/FlowSmith/.agent/workspaces/masaakiayb-muselucid-project-templateexec
/bin/bash -lc "sed -n '1,260p' scripts/show_latest_headline.sh" in /home/runner/work/FlowSmith/FlowSmith/.agent/workspaces/masaakiayb-muselucid-project-template succeeded in 51ms:
# muselucid-project-template

単一ニュースソースから最新ヘッドライン1件を表示する最小CLIです。

## ニュースソース
- URL: `https://feeds.bbci.co.uk/news/rss.xml`
- 形式: RSS (XML)
- 選定理由: APIキー不要、無料で取得可能

最新の定義は「フィード先頭の最初の `item` の `title`」です。

## 前提条件
- `bash`
- `curl`
- `python3`（標準ライブラリの XML パーサを使用）

## 実行方法
```bash
./scripts/show_latest_headline.sh
```
 succeeded in 50ms:
#!/usr/bin/env bash
set -u

FEED_URL="${NEWS_FEED_URL:-https://feeds.bbci.co.uk/news/rss.xml}"

usage() {
  cat <<USAGE
Usage: ./scripts/show_latest_headline.sh [--help]

Fetch and print the latest headline title from a single RSS feed.

Options:
  --help    Show this help and exit

Environment:
  NEWS_FEED_URL  Override RSS feed URL (default: ${FEED_URL})

Exit codes:
  0   Success
  2   Invalid arguments
2026-02-20T03:03:35.302881Z ERROR codex_core::auth: Failed to refresh token: 401 Unauthorized: {
  "error": {
    "message": "Your refresh token has already been used to generate a new access token. Please try signing in again.",
    "type": "invalid_request_error",
    "param": null,
    "code": "refresh_token_reused"
  }
}
2026-02-20T03:03:35.302915Z ERROR codex_core::auth: Failed to refresh token: Your access token could not be refreshed because your refresh token was already used. Please log out and sign in again.

thinking
**Adding verification and troubleshooting sections**
codex
実装側はすでに終了コード `10/11/20/21` と `NEWS_FEED_URL` 上書きに対応していました。次に README を「前提条件→実行→検証→失敗時確認」の順で再構成し、検証コマンドと期待結果を明示します。

thinking
**Adding Japanese README sections**
file update
M /home/runner/work/FlowSmith/FlowSmith/.agent/workspaces/masaakiayb-muselucid-project-template/README.md
@@ -23,2 +23,35 @@
 
+## 検証手順（ローカル）
+README の手順だけで動作確認できるよう、以下を順に実行します。
+
+1. README の関連記述確認
+```bash
+rg -n "latest|headline|ニュース|ヘッドライン" README.md
+```
+期待結果: 実行方法・検証方法・失敗時確認に関する記述がヒットする。
+
+2. 正常系（見出しを1件取得）
+```bash
+./scripts/show_latest_headline.sh >/tmp/headline.out && test -s /tmp/headline.out
+```
+期待結果: 終了コード `0`。`/tmp/headline.out` が空でない。
+
+3. README ファイル存在確認
+```bash
+test -f README.md
+```
+期待結果: 終了コード `0`。
+
+4. 失敗系（ネットワーク障害相当）
+```bash
+NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
+```
+期待結果: 終了コード `10`。`/tmp/headline.err` に `network or timeout error` を含む。
+
+5. 失敗系（解析不能データ）
+```bash
+NEWS_FEED_URL="https://example.com" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
+```
+期待結果: 終了コード `20` または `21`。`/tmp/headline.err` に `failed to parse` または `no headline found` を含む。
+
 ## ヘルプ
@@ -37,3 +70,3 @@
 ## 取得元URLの上書き
-検証時などに `NEWS_FEED_URL` で取得先を変更できます。
+MVP は単一ニュースソースを対象としており、デフォルトは `https://feeds.bbci.co.uk/news/rss.xml` のみです。検証時などに `NEWS_FEED_URL` で取得先を変更できます。
 
@@ -42 +75,7 @@
 ```
+
+## 失敗時の確認ポイント
+- `10`: ネットワーク/タイムアウト。URL の到達性、DNS、プロキシ設定、`stderr` の `network or timeout error` を確認。
+- `11`: HTTP エラー。URL のタイプミス、アクセス権、`stderr` の `HTTP error` を確認。
+- `20`: レスポンス解析失敗。取得データが XML として不正、`python3` の利用可否、`stderr` の `failed to parse` を確認。
+- `21`: ヘッドライン未検出。RSS/Atom の `item/title` または `entry/title` が存在するか、`stderr` の `no headline found` を確認。
apply_patch(auto_approved=true) exited 0 in 3ms:
Success. Updated the following files:
M README.md
file update:
diff --git a/README.md b/README.md
index 71eb4e89329ddf6c6668c27bc52241f4df8c9f7b..d6cd4c187c061e9a190d50f8155fed0316e4c4ce
--- a/README.md
+++ b/README.md
@@ -21,6 +21,39 @@
 
 標準出力にヘッドラインタイトル1行を表示します。
 
+## 検証手順（ローカル）
+README の手順だけで動作確認できるよう、以下を順に実行します。
+
+1. README の関連記述確認
+```bash
+rg -n "latest|headline|ニュース|ヘッドライン" README.md
+```
+期待結果: 実行方法・検証方法・失敗時確認に関する記述がヒットする。
+
+2. 正常系（見出しを1件取得）
+```bash
+./scripts/show_latest_headline.sh >/tmp/headline.out && test -s /tmp/headline.out
+```
+期待結果: 終了コード `0`。`/tmp/headline.out` が空でない。
+
+3. README ファイル存在確認
+```bash
+test -f README.md
+```
+期待結果: 終了コード `0`。
+
+4. 失敗系（ネットワーク障害相当）
+```bash
+NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
+```
+期待結果: 終了コード `10`。`/tmp/headline.err` に `network or timeout error` を含む。
+
+5. 失敗系（解析不能データ）
+```bash
+NEWS_FEED_URL="https://example.com" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
+```
+期待結果: 終了コード `20` または `21`。`/tmp/headline.err` に `failed to parse` または `no headline found` を含む。
+
 ## ヘルプ
 ```bash
 ./scripts/show_latest_headline.sh --help
@@ -35,8 +68,14 @@
 - `21`: ヘッドライン0件
 
 ## 取得元URLの上書き
-検証時などに `NEWS_FEED_URL` で取得先を変更できます。
+MVP は単一ニュースソースを対象としており、デフォルトは `https://feeds.bbci.co.uk/news/rss.xml` のみです。検証時などに `NEWS_FEED_URL` で取得先を変更できます。
 
 ```bash
 NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh
 ```
+
+## 失敗時の確認ポイント
+- `10`: ネットワーク/タイムアウト。URL の到達性、DNS、プロキシ設定、`stderr` の `network or timeout error` を確認。
+- `11`: HTTP エラー。URL のタイプミス、アクセス権、`stderr` の `HTTP error` を確認。
+- `20`: レスポンス解析失敗。取得データが XML として不正、`python3` の利用可否、`stderr` の `failed to parse` を確認。
+- `21`: ヘッドライン未検出。RSS/Atom の `item/title` または `entry/title` が存在するか、`stderr` の `no headline found` を確認。

file update:
diff --git a/README.md b/README.md
index 71eb4e89329ddf6c6668c27bc52241f4df8c9f7b..d6cd4c187c061e9a190d50f8155fed0316e4c4ce
--- a/README.md
+++ b/README.md
@@ -21,6 +21,39 @@
 
 標準出力にヘッドラインタイトル1行を表示します。
 
+## 検証手順（ローカル）
+README の手順だけで動作確認できるよう、以下を順に実行します。
+
+1. README の関連記述確認
+```bash
+rg -n "latest|headline|ニュース|ヘッドライン" README.md
+```
+期待結果: 実行方法・検証方法・失敗時確認に関する記述がヒットする。
+
+2. 正常系（見出しを1件取得）
+```bash
+./scripts/show_latest_headline.sh >/tmp/headline.out && test -s /tmp/headline.out
+```
+期待結果: 終了コード `0`。`/tmp/headline.out` が空でない。
+
+3. README ファイル存在確認
+```bash
+test -f README.md
+```
+期待結果: 終了コード `0`。
+
+4. 失敗系（ネットワーク障害相当）
+```bash
+NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
+```
+期待結果: 終了コード `10`。`/tmp/headline.err` に `network or timeout error` を含む。
+
+5. 失敗系（解析不能データ）
+```bash
+NEWS_FEED_URL="https://example.com" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
+```
+期待結果: 終了コード `20` または `21`。`/tmp/headline.err` に `failed to parse` または `no headline found` を含む。
+
 ## ヘルプ
 ```bash
 ./scripts/show_latest_headline.sh --help
@@ -35,8 +68,14 @@
 - `21`: ヘッドライン0件
 
 ## 取得元URLの上書き
-検証時などに `NEWS_FEED_URL` で取得先を変更できます。
+MVP は単一ニュースソースを対象としており、デフォルトは `https://feeds.bbci.co.uk/news/rss.xml` のみです。検証時などに `NEWS_FEED_URL` で取得先を変更できます。
 
 ```bash
 NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh
 ```
+
+## 失敗時の確認ポイント
+- `10`: ネットワーク/タイムアウト。URL の到達性、DNS、プロキシ設定、`stderr` の `network or timeout error` を確認。
+- `11`: HTTP エラー。URL のタイプミス、アクセス権、`stderr` の `HTTP error` を確認。
+- `20`: レスポンス解析失敗。取得データが XML として不正、`python3` の利用可否、`stderr` の `failed to parse` を確認。
+- `21`: ヘッドライン未検出。RSS/Atom の `item/title` または `entry/title` が存在するか、`stderr` の `no headline found` を確認。

2026-02-20T03:03:50.232758Z ERROR codex_core::auth: Failed to refresh token: 401 Unauthorized: {
  "error": {
    "message": "Your refresh token has already been used to generate a new access token. Please try signing in again.",
    "type": "invalid_request_error",
    "param": null,
    "code": "refresh_token_reused"
  }
}
2026-02-20T03:03:50.232792Z ERROR codex_core::auth: Failed to refresh token: Your access token could not be refreshed because your refresh token was already used. Please log out and sign in again.

thinking
**Planning verification and diff checks**
codex
README の追記を反映しました。続けて Issue 指定の検証コマンドと `git diff --check` を実行し、記載内容と実装の整合性を確認します。
exec
/bin/bash -lc 'test -f README.md; echo "readme_exists_exit=$?"' in /home/runner/work/FlowSmith/FlowSmith/.agent/workspaces/masaakiayb-muselucid-project-templateexec
/bin/bash -lc 'rg -n "latest|headline|ニュース|ヘッドライン" README.md' in /home/runner/work/FlowSmith/FlowSmith/.agent/workspaces/masaakiayb-muselucid-project-template succeeded in 50ms:
readme_exists_exit=0
 succeeded in 51ms:
3:単一ニュースソースから最新ヘッドライン1件を表示する最小CLIです。
5:## ニュースソース
19:./scripts/show_latest_headline.sh
22:標準出力にヘッドラインタイトル1行を表示します。
29:rg -n "latest|headline|ニュース|ヘッドライン" README.md
35:./scripts/show_latest_headline.sh >/tmp/headline.out && test -s /tmp/headline.out
37:期待結果: 終了コード `0`。`/tmp/headline.out` が空でない。
47:NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
49:期待結果: 終了コード `10`。`/tmp/headline.err` に `network or timeout error` を含む。
53:NEWS_FEED_URL="https://example.com" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
55:期待結果: 終了コード `20` または `21`。`/tmp/headline.err` に `failed to parse` または `no headline found` を含む。
59:./scripts/show_latest_headline.sh --help
68:- `21`: ヘッドライン0件
71:MVP は単一ニュースソースを対象としており、デフォルトは `https://feeds.bbci.co.uk/news/rss.xml` のみです。検証時などに `NEWS_FEED_URL` で取得先を変更できます。
74:NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh
81:- `21`: ヘッドライン未検出。RSS/Atom の `item/title` または `entry/title` が存在するか、`stderr` の `no headline found` を確認。
exec
/bin/bash -lc './scripts/show_latest_headline.sh >/tmp/headline.out && test -s /tmp/headline.out; echo "verify_headline_exit=$?"' in /home/runner/work/FlowSmith/FlowSmith/.agent/workspaces/masaakiayb-muselucid-project-template succeeded in 370ms:
verify_headline_exit=0
file update:
diff --git a/README.md b/README.md
index 71eb4e89329ddf6c6668c27bc52241f4df8c9f7b..d6cd4c187c061e9a190d50f8155fed0316e4c4ce
--- a/README.md
+++ b/README.md
@@ -21,6 +21,39 @@
 
 標準出力にヘッドラインタイトル1行を表示します。
 
+## 検証手順（ローカル）
+README の手順だけで動作確認できるよう、以下を順に実行します。
+
+1. README の関連記述確認
+```bash
+rg -n "latest|headline|ニュース|ヘッドライン" README.md
+```
+期待結果: 実行方法・検証方法・失敗時確認に関する記述がヒットする。
+
+2. 正常系（見出しを1件取得）
+```bash
+./scripts/show_latest_headline.sh >/tmp/headline.out && test -s /tmp/headline.out
+```
+期待結果: 終了コード `0`。`/tmp/headline.out` が空でない。
+
+3. README ファイル存在確認
+```bash
+test -f README.md
+```
+期待結果: 終了コード `0`。
+
+4. 失敗系（ネットワーク障害相当）
+```bash
+NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
+```
+期待結果: 終了コード `10`。`/tmp/headline.err` に `network or timeout error` を含む。
+
+5. 失敗系（解析不能データ）
+```bash
+NEWS_FEED_URL="https://example.com" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
+```
+期待結果: 終了コード `20` または `21`。`/tmp/headline.err` に `failed to parse` または `no headline found` を含む。
+
 ## ヘルプ
 ```bash
 ./scripts/show_latest_headline.sh --help
@@ -35,8 +68,14 @@
 - `21`: ヘッドライン0件
 
 ## 取得元URLの上書き
-検証時などに `NEWS_FEED_URL` で取得先を変更できます。
+MVP は単一ニュースソースを対象としており、デフォルトは `https://feeds.bbci.co.uk/news/rss.xml` のみです。検証時などに `NEWS_FEED_URL` で取得先を変更できます。
 
 ```bash
 NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh
 ```
+
+## 失敗時の確認ポイント
+- `10`: ネットワーク/タイムアウト。URL の到達性、DNS、プロキシ設定、`stderr` の `network or timeout error` を確認。
+- `11`: HTTP エラー。URL のタイプミス、アクセス権、`stderr` の `HTTP error` を確認。
+- `20`: レスポンス解析失敗。取得データが XML として不正、`python3` の利用可否、`stderr` の `failed to parse` を確認。
+- `21`: ヘッドライン未検出。RSS/Atom の `item/title` または `entry/title` が存在するか、`stderr` の `no headline found` を確認。

2026-02-20T03:03:54.803547Z ERROR codex_core::auth: Failed to refresh token: 401 Unauthorized: {
  "error": {
    "message": "Your refresh token has already been used to generate a new access token. Please try signing in again.",
    "type": "invalid_request_error",
    "param": null,
    "code": "refresh_token_reused"
  }
}
2026-02-20T03:03:54.803577Z ERROR codex_core::auth: Failed to refresh token: Your access token could not be refreshed because your refresh token was already used. Please log out and sign in again.

thinking
**Planning failure mode tests**
exec
/bin/bash -lc 'git diff --check' in /home/runner/work/FlowSmith/FlowSmith/.agent/workspaces/masaakiayb-muselucid-project-template succeeded in 51ms:

exec
/bin/bash -lc 'NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; rc=$?; echo "invalid_url_exit=$rc"; sed -n '"'1,3p' /tmp/headline.err" in /home/runner/work/FlowSmith/FlowSmith/.agent/workspaces/masaakiayb-muselucid-project-templateexec
/bin/bash -lc 'NEWS_FEED_URL="https://example.com" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; rc=$?; echo "example_com_exit=$rc"; sed -n '"'1,3p' /tmp/headline.err" in /home/runner/work/FlowSmith/FlowSmith/.agent/workspaces/masaakiayb-muselucid-project-template succeeded in 51ms:
example_com_exit=20
ERROR: failed to parse feed response
 succeeded in 1.94s:
invalid_url_exit=10
ERROR: failed to parse feed response
             curl: (6) Could not resolve host: example.invalid
curl: (6) Could not resolve host: example.invalid
file update:
diff --git a/README.md b/README.md
index 71eb4e89329ddf6c6668c27bc52241f4df8c9f7b..d6cd4c187c061e9a190d50f8155fed0316e4c4ce
--- a/README.md
+++ b/README.md
@@ -21,6 +21,39 @@
 
 標準出力にヘッドラインタイトル1行を表示します。
 
+## 検証手順（ローカル）
+README の手順だけで動作確認できるよう、以下を順に実行します。
+
+1. README の関連記述確認
+```bash
+rg -n "latest|headline|ニュース|ヘッドライン" README.md
+```
+期待結果: 実行方法・検証方法・失敗時確認に関する記述がヒットする。
+
+2. 正常系（見出しを1件取得）
+```bash
+./scripts/show_latest_headline.sh >/tmp/headline.out && test -s /tmp/headline.out
+```
+期待結果: 終了コード `0`。`/tmp/headline.out` が空でない。
+
+3. README ファイル存在確認
+```bash
+test -f README.md
+```
+期待結果: 終了コード `0`。
+
+4. 失敗系（ネットワーク障害相当）
+```bash
+NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
+```
+期待結果: 終了コード `10`。`/tmp/headline.err` に `network or timeout error` を含む。
+
+5. 失敗系（解析不能データ）
+```bash
+NEWS_FEED_URL="https://example.com" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
+```
+期待結果: 終了コード `20` または `21`。`/tmp/headline.err` に `failed to parse` または `no headline found` を含む。
+
 ## ヘルプ
 ```bash
 ./scripts/show_latest_headline.sh --help
@@ -35,8 +68,14 @@
 - `21`: ヘッドライン0件
 
 ## 取得元URLの上書き
-検証時などに `NEWS_FEED_URL` で取得先を変更できます。
+MVP は単一ニュースソースを対象としており、デフォルトは `https://feeds.bbci.co.uk/news/rss.xml` のみです。検証時などに `NEWS_FEED_URL` で取得先を変更できます。
 
 ```bash
 NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh
 ```
+
+## 失敗時の確認ポイント
+- `10`: ネットワーク/タイムアウト。URL の到達性、DNS、プロキシ設定、`stderr` の `network or timeout error` を確認。
+- `11`: HTTP エラー。URL のタイプミス、アクセス権、`stderr` の `HTTP error` を確認。
+- `20`: レスポンス解析失敗。取得データが XML として不正、`python3` の利用可否、`stderr` の `failed to parse` を確認。
+- `21`: ヘッドライン未検出。RSS/Atom の `item/title` または `entry/title` が存在するか、`stderr` の `no headline found` を確認。

2026-02-20T03:04:00.564103Z ERROR codex_core::auth: Failed to refresh token: 401 Unauthorized: {
  "error": {
    "message": "Your refresh token has already been used to generate a new access token. Please try signing in again.",
    "type": "invalid_request_error",
    "param": null,
    "code": "refresh_token_reused"
  }
}
2026-02-20T03:04:00.564147Z ERROR codex_core::auth: Failed to refresh token: Your access token could not be refreshed because your refresh token was already used. Please log out and sign in again.

thinking
**Identifying race condition on temp file**
codex
失敗系の確認で `/tmp/headline.err` を並列で共有していたため、結果が混在しました。競合を避けるために別ファイルで再実行して、終了コードとエラーメッセージの対応を確定します。
exec
/bin/bash -lc 'NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh >/tmp/headline_invalid.out 2>/tmp/headline_invalid.err; rc=$?; echo "invalid_url_exit=$rc"; sed -n '"'1,5p' /tmp/headline_invalid.err
NEWS_FEED_URL=\"https://example.com\" ./scripts/show_latest_headline.sh >/tmp/headline_example.out 2>/tmp/headline_example.err; rc="'$?; echo "example_com_exit=$rc"; sed -n '"'1,5p' /tmp/headline_example.err" in /home/runner/work/FlowSmith/FlowSmith/.agent/workspaces/masaakiayb-muselucid-project-template succeeded in 2.04s:
invalid_url_exit=10
curl: (6) Could not resolve host: example.invalid
curl: (6) Could not resolve host: example.invalid
curl: (6) Could not resolve host: example.invalid
ERROR: failed to fetch feed (network or timeout error)
example_com_exit=20
ERROR: failed to parse feed response
file update:
diff --git a/README.md b/README.md
index 71eb4e89329ddf6c6668c27bc52241f4df8c9f7b..d6cd4c187c061e9a190d50f8155fed0316e4c4ce
--- a/README.md
+++ b/README.md
@@ -21,6 +21,39 @@
 
 標準出力にヘッドラインタイトル1行を表示します。
 
+## 検証手順（ローカル）
+README の手順だけで動作確認できるよう、以下を順に実行します。
+
+1. README の関連記述確認
+```bash
+rg -n "latest|headline|ニュース|ヘッドライン" README.md
+```
+期待結果: 実行方法・検証方法・失敗時確認に関する記述がヒットする。
+
+2. 正常系（見出しを1件取得）
+```bash
+./scripts/show_latest_headline.sh >/tmp/headline.out && test -s /tmp/headline.out
+```
+期待結果: 終了コード `0`。`/tmp/headline.out` が空でない。
+
+3. README ファイル存在確認
+```bash
+test -f README.md
+```
+期待結果: 終了コード `0`。
+
+4. 失敗系（ネットワーク障害相当）
+```bash
+NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
+```
+期待結果: 終了コード `10`。`/tmp/headline.err` に `network or timeout error` を含む。
+
+5. 失敗系（解析不能データ）
+```bash
+NEWS_FEED_URL="https://example.com" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
+```
+期待結果: 終了コード `20` または `21`。`/tmp/headline.err` に `failed to parse` または `no headline found` を含む。
+
 ## ヘルプ
 ```bash
 ./scripts/show_latest_headline.sh --help
@@ -35,8 +68,14 @@
 - `21`: ヘッドライン0件
 
 ## 取得元URLの上書き
-検証時などに `NEWS_FEED_URL` で取得先を変更できます。
+MVP は単一ニュースソースを対象としており、デフォルトは `https://feeds.bbci.co.uk/news/rss.xml` のみです。検証時などに `NEWS_FEED_URL` で取得先を変更できます。
 
 ```bash
 NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh
 ```
+
+## 失敗時の確認ポイント
+- `10`: ネットワーク/タイムアウト。URL の到達性、DNS、プロキシ設定、`stderr` の `network or timeout error` を確認。
+- `11`: HTTP エラー。URL のタイプミス、アクセス権、`stderr` の `HTTP error` を確認。
+- `20`: レスポンス解析失敗。取得データが XML として不正、`python3` の利用可否、`stderr` の `failed to parse` を確認。
+- `21`: ヘッドライン未検出。RSS/Atom の `item/title` または `entry/title` が存在するか、`stderr` の `no headline found` を確認。

2026-02-20T03:04:11.908800Z ERROR codex_core::auth: Failed to refresh token: 401 Unauthorized: {
  "error": {
    "message": "Your refresh token has already been used to generate a new access token. Please try signing in again.",
    "type": "invalid_request_error",
    "param": null,
    "code": "refresh_token_reused"
  }
}
2026-02-20T03:04:11.908838Z ERROR codex_core::auth: Failed to refresh token: Your access token could not be refreshed because your refresh token was already used. Please log out and sign in again.

thinking
**Planning execution log and summary**
codex
検証結果は期待どおりで、`10` は network/timeout、`20` は parse エラーとして再現できました。最後に指定の `coder_output_attempt_1.md` に実行ログと変更ファイル要約を追記します。

thinking
**Adding file write and directory creation logic**
exec
/bin/bash -lc "mkdir -p /home/runner/work/FlowSmith/FlowSmith/.agent/runs/masaakiayb-muselucid-project-template/20260220T030242Z-issue-4 && cat > /home/runner/work/FlowSmith/FlowSmith/.agent/runs/masaakiayb-muselucid-project-template/20260220T030242Z-issue-4/coder_output_attempt_1.md <<'EOF'
# Attempt 1 Log

## 実行ログ（要約）
- "'`sed -n '"'1,220p' README.md"'` / `sed -n '"'1,260p' scripts/show_latest_headline.sh"'` で現行仕様を確認。
- `README.md` を更新し、前提条件・実行方法・検証手順・失敗時確認ポイントを実装仕様に合わせて追記。
- 検証実行:
  - `rg -n "latest|headline|ニュース|ヘッドライン" README.md` -> 関連記述を確認。
  - `./scripts/show_latest_headline.sh >/tmp/headline.out && test -s /tmp/headline.out` -> `0`。
  - `test -f README.md` -> `0`。
  - `NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh ...` -> `10`、`network or timeout error` を確認。
  - `NEWS_FEED_URL="https://example.com" ./scripts/show_latest_headline.sh ...` -> `20`、`failed to parse` を確認。
- 品質ゲート: `git diff --check` -> 問題なし。

## 変更ファイル要約
- `README.md`
  - ローカル検証手順（正常系/失敗系）を追加。
  - 単一ニュースソース前提（MVP）を明記。
  - 終了コード `10/11/20/21` の確認ポイントを追記。
EOF' in /home/runner/work/FlowSmith/FlowSmith/.agent/workspaces/masaakiayb-muselucid-project-template succeeded in 51ms:

file update:
diff --git a/README.md b/README.md
index 71eb4e89329ddf6c6668c27bc52241f4df8c9f7b..d6cd4c187c061e9a190d50f8155fed0316e4c4ce
--- a/README.md
+++ b/README.md
@@ -21,6 +21,39 @@
 
 標準出力にヘッドラインタイトル1行を表示します。
 
+## 検証手順（ローカル）
+README の手順だけで動作確認できるよう、以下を順に実行します。
+
+1. README の関連記述確認
+```bash
+rg -n "latest|headline|ニュース|ヘッドライン" README.md
+```
+期待結果: 実行方法・検証方法・失敗時確認に関する記述がヒットする。
+
+2. 正常系（見出しを1件取得）
+```bash
+./scripts/show_latest_headline.sh >/tmp/headline.out && test -s /tmp/headline.out
+```
+期待結果: 終了コード `0`。`/tmp/headline.out` が空でない。
+
+3. README ファイル存在確認
+```bash
+test -f README.md
+```
+期待結果: 終了コード `0`。
+
+4. 失敗系（ネットワーク障害相当）
+```bash
+NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
+```
+期待結果: 終了コード `10`。`/tmp/headline.err` に `network or timeout error` を含む。
+
+5. 失敗系（解析不能データ）
+```bash
+NEWS_FEED_URL="https://example.com" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
+```
+期待結果: 終了コード `20` または `21`。`/tmp/headline.err` に `failed to parse` または `no headline found` を含む。
+
 ## ヘルプ
 ```bash
 ./scripts/show_latest_headline.sh --help
@@ -35,8 +68,14 @@
 - `21`: ヘッドライン0件
 
 ## 取得元URLの上書き
-検証時などに `NEWS_FEED_URL` で取得先を変更できます。
+MVP は単一ニュースソースを対象としており、デフォルトは `https://feeds.bbci.co.uk/news/rss.xml` のみです。検証時などに `NEWS_FEED_URL` で取得先を変更できます。
 
 ```bash
 NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh
 ```
+
+## 失敗時の確認ポイント
+- `10`: ネットワーク/タイムアウト。URL の到達性、DNS、プロキシ設定、`stderr` の `network or timeout error` を確認。
+- `11`: HTTP エラー。URL のタイプミス、アクセス権、`stderr` の `HTTP error` を確認。
+- `20`: レスポンス解析失敗。取得データが XML として不正、`python3` の利用可否、`stderr` の `failed to parse` を確認。
+- `21`: ヘッドライン未検出。RSS/Atom の `item/title` または `entry/title` が存在するか、`stderr` の `no headline found` を確認。

2026-02-20T03:04:21.628258Z ERROR codex_core::auth: Failed to refresh token: 401 Unauthorized: {
  "error": {
    "message": "Your refresh token has already been used to generate a new access token. Please try signing in again.",
    "type": "invalid_request_error",
    "param": null,
    "code": "refresh_token_reused"
  }
}
2026-02-20T03:04:21.628291Z ERROR codex_core::auth: Failed to refresh token: Your access token could not be refreshed because your refresh token was already used. Please log out and sign in again.

thinking
**Checking git status and diff scope**
exec
/bin/bash -lc 'git status --short && git diff -- README.md' in /home/runner/work/FlowSmith/FlowSmith/.agent/workspaces/masaakiayb-muselucid-project-template succeeded in 51ms:
 M README.md
diff --git a/README.md b/README.md
index 71eb4e8..d6cd4c1 100644
--- a/README.md
+++ b/README.md
@@ -21,6 +21,39 @@
 
 標準出力にヘッドラインタイトル1行を表示します。
 
+## 検証手順（ローカル）
+README の手順だけで動作確認できるよう、以下を順に実行します。
+
+1. README の関連記述確認
+```bash
+rg -n "latest|headline|ニュース|ヘッドライン" README.md
+```
+期待結果: 実行方法・検証方法・失敗時確認に関する記述がヒットする。
+
+2. 正常系（見出しを1件取得）
+```bash
file update:
diff --git a/README.md b/README.md
index 71eb4e89329ddf6c6668c27bc52241f4df8c9f7b..d6cd4c187c061e9a190d50f8155fed0316e4c4ce
--- a/README.md
+++ b/README.md
@@ -21,6 +21,39 @@
 
 標準出力にヘッドラインタイトル1行を表示します。
 
+## 検証手順（ローカル）
+README の手順だけで動作確認できるよう、以下を順に実行します。
+
+1. README の関連記述確認
+```bash
+rg -n "latest|headline|ニュース|ヘッドライン" README.md
+```
+期待結果: 実行方法・検証方法・失敗時確認に関する記述がヒットする。
+
+2. 正常系（見出しを1件取得）
+```bash
+./scripts/show_latest_headline.sh >/tmp/headline.out && test -s /tmp/headline.out
+```
+期待結果: 終了コード `0`。`/tmp/headline.out` が空でない。
+
+3. README ファイル存在確認
+```bash
+test -f README.md
+```
+期待結果: 終了コード `0`。
+
+4. 失敗系（ネットワーク障害相当）
+```bash
+NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
+```
+期待結果: 終了コード `10`。`/tmp/headline.err` に `network or timeout error` を含む。
+
+5. 失敗系（解析不能データ）
+```bash
+NEWS_FEED_URL="https://example.com" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
+```
+期待結果: 終了コード `20` または `21`。`/tmp/headline.err` に `failed to parse` または `no headline found` を含む。
+
 ## ヘルプ
 ```bash
 ./scripts/show_latest_headline.sh --help
@@ -35,8 +68,14 @@
 - `21`: ヘッドライン0件
 
 ## 取得元URLの上書き
-検証時などに `NEWS_FEED_URL` で取得先を変更できます。
+MVP は単一ニュースソースを対象としており、デフォルトは `https://feeds.bbci.co.uk/news/rss.xml` のみです。検証時などに `NEWS_FEED_URL` で取得先を変更できます。
 
 ```bash
 NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh
 ```
+
+## 失敗時の確認ポイント
+- `10`: ネットワーク/タイムアウト。URL の到達性、DNS、プロキシ設定、`stderr` の `network or timeout error` を確認。
+- `11`: HTTP エラー。URL のタイプミス、アクセス権、`stderr` の `HTTP error` を確認。
+- `20`: レスポンス解析失敗。取得データが XML として不正、`python3` の利用可否、`stderr` の `failed to parse` を確認。
+- `21`: ヘッドライン未検出。RSS/Atom の `item/title` または `entry/title` が存在するか、`stderr` の `no headline found` を確認。

2026-02-20T03:04:24.026717Z ERROR codex_core::auth: Failed to refresh token: 401 Unauthorized: {
  "error": {
    "message": "Your refresh token has already been used to generate a new access token. Please try signing in again.",
    "type": "invalid_request_error",
    "param": null,
    "code": "refresh_token_reused"
  }
}
2026-02-20T03:04:24.026776Z ERROR codex_core::auth: Failed to refresh token: Your access token could not be refreshed because your refresh token was already used. Please log out and sign in again.

thinking
**Summarizing final changes and results**
codex
README を Issue #4 のスコープに合わせて更新し、実装と整合する検証手順を追加しました。

変更内容:
- `README.md`
  - 前提条件・実行方法に続く形で `検証手順（ローカル）` を追加
  - 以下の検証コマンドと期待結果を明記
    - `rg -n "latest|headline|ニュース|ヘッドライン" README.md`
    - `./scripts/show_latest_headline.sh >/tmp/headline.out && test -s /tmp/headline.out`
    - `test -f README.md`
    - `NEWS_FEED_URL="https://example.invalid/rss.xml" ...`（終了コード `10`）
    - `NEWS_FEED_URL="https://example.com" ...`（終了コード `20` または `21`）
  - MVP が単一ニュースソース前提であることを明記
  - 失敗時の確認ポイントとして終了コード `10/11/20/21` の見方を追記

検証結果:
- `rg -n "latest|headline|ニュース|ヘッドライン" README.md` -> ヒットあり
- `./scripts/show_latest_headline.sh >/tmp/headline.out && test -s /tmp/headline.out` -> `0`
- `test -f README.md` -> `0`
- `NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh ...` -> `10`（`network or timeout error` 確認）
- `NEWS_FEED_URL="https://example.com" ./scripts/show_latest_headline.sh ...` -> `20`（`failed to parse feed response` 確認）
- `git diff --check` -> 問題なし

実行ログを記録済み:
- `/home/runner/work/FlowSmith/FlowSmith/.agent/runs/masaakiayb-muselucid-project-template/20260220T030242Z-issue-4/coder_output_attempt_1.md`
file update:
diff --git a/README.md b/README.md
index 71eb4e89329ddf6c6668c27bc52241f4df8c9f7b..d6cd4c187c061e9a190d50f8155fed0316e4c4ce
--- a/README.md
+++ b/README.md
@@ -21,6 +21,39 @@
 
 標準出力にヘッドラインタイトル1行を表示します。
 
+## 検証手順（ローカル）
+README の手順だけで動作確認できるよう、以下を順に実行します。
+
+1. README の関連記述確認
+```bash
+rg -n "latest|headline|ニュース|ヘッドライン" README.md
+```
+期待結果: 実行方法・検証方法・失敗時確認に関する記述がヒットする。
+
+2. 正常系（見出しを1件取得）
+```bash
+./scripts/show_latest_headline.sh >/tmp/headline.out && test -s /tmp/headline.out
+```
+期待結果: 終了コード `0`。`/tmp/headline.out` が空でない。
+
+3. README ファイル存在確認
+```bash
+test -f README.md
+```
+期待結果: 終了コード `0`。
+
+4. 失敗系（ネットワーク障害相当）
+```bash
+NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
+```
+期待結果: 終了コード `10`。`/tmp/headline.err` に `network or timeout error` を含む。
+
+5. 失敗系（解析不能データ）
+```bash
+NEWS_FEED_URL="https://example.com" ./scripts/show_latest_headline.sh >/tmp/headline.out 2>/tmp/headline.err; echo $?
+```
+期待結果: 終了コード `20` または `21`。`/tmp/headline.err` に `failed to parse` または `no headline found` を含む。
+
 ## ヘルプ
 ```bash
 ./scripts/show_latest_headline.sh --help
@@ -35,8 +68,14 @@
 - `21`: ヘッドライン0件
 
 ## 取得元URLの上書き
-検証時などに `NEWS_FEED_URL` で取得先を変更できます。
+MVP は単一ニュースソースを対象としており、デフォルトは `https://feeds.bbci.co.uk/news/rss.xml` のみです。検証時などに `NEWS_FEED_URL` で取得先を変更できます。
 
 ```bash
 NEWS_FEED_URL="https://example.invalid/rss.xml" ./scripts/show_latest_headline.sh
 ```
+
+## 失敗時の確認ポイント
+- `10`: ネットワーク/タイムアウト。URL の到達性、DNS、プロキシ設定、`stderr` の `network or timeout error` を確認。
+- `11`: HTTP エラー。URL のタイプミス、アクセス権、`stderr` の `HTTP error` を確認。
+- `20`: レスポンス解析失敗。取得データが XML として不正、`python3` の利用可否、`stderr` の `failed to parse` を確認。
+- `21`: ヘッドライン未検出。RSS/Atom の `item/title` または `entry/title` が存在するか、`stderr` の `no headline found` を確認。

tokens used
24,194

